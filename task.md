# Mojio（もじ夫）開発タスク管理

## 📋 プロジェクト概要
**Mojio（もじ夫）** は、Whisper Large v2エンジンを使用した高精度なリアルタイム文字起こしアプリケーションです。  
AIで文字起こしを高精度に行い、任意のアプリケーションにリアルタイムでテキストを挿入できます。

## 🎯 開発目標
1. **リアルタイム音声認識**: Whisper Large v2による高精度な音声→テキスト変換
2. **ユニバーサルテキスト挿入**: 任意のアプリケーションへのリアルタイムテキスト挿入
3. **ユーザー辞書機能**: 専門用語・固有名詞の高精度認識
4. **グローバルショートカット**: どこからでも操作可能なショートカットキー
5. **完全オフライン動作**: プライバシー重視のローカル処理

## 📅 開発フェーズ

### フェーズ1: コア機能実装（優先度: 高）
**目標**: 基本的な音声認識とテキスト挿入機能を実装

#### 🔧 タスク一覧

| ID | タスク名 | 説明 | 担当者 | ステータス | 優先度 | 期限 |
|----|---------|------|--------|------------|--------|------|
| T-001 | 音声入力モジュール実装 | SoundDeviceを使用したマイク音声キャプチャ | 開発者 | 完了 | 高 | - |
| T-002 | PC内部音声モジュール実装 | SoundCardを使用したループバック録音 | 開発者 | 完了 | 高 | - |
| T-003 | faster-whisper統合 | Whisper Large v2モデルのロードと推論 | 開発者 | 完了 | 高 | - |
| T-004 | 音声区間検出実装 | Silero VADによる発話区間の検出 | 開発者 | レビュー待ち | 中 | - |
| T-005 | テキスト挿入機能実装 | pynputを使用したアクティブウィンドウへのテキスト挿入 | 開発者 | 完了 | 高 | - |
| T-006 | グローバルショートカット実装 | Ctrl+Shift+Spaceによる録音開始/停止 | 開発者 | レビュー待ち | 高 | - |
| T-007 | リアルタイム処理パイプライン構築 | 音声キャプチャ→認識→挿入の統合処理 | 開発者 | レビュー待ち | 高 | - |
| T-008 | コア機能テスト | 基本的な音声認識とテキスト挿入の統合テスト | 開発者 | 完了 | 高 | - |

### フェーズ2: インテリジェント機能（優先度: 中）
**目標**: ユーザー辞書と高度な認識機能を実装

#### 🔧 タスク一覧

| ID | タスク名 | 説明 | 担当者 | ステータス | 優先度 | 期限 |
|----|---------|------|--------|------------|--------|------|
| T-009 | SQLite3データベース設計 | ユーザー辞書と設定のデータベース設計 | 開発者 | レビュー待ち | 中 | - |
| T-010 | ユーザー辞書管理機能 | 専門用語・固有名詞の登録・編集・削除 | 開発者 | 完了 | 中 | - |
| T-011 | 辞書マッチングアルゴリズム | 認識結果への辞書適用ロジック | 開発者 | 完了 | 中 | - |
| T-012 | 簡易話者識別機能 | 話者切り替えの自動検出と表示 | 開発者 | レビュー待ち | 低 | - |
| T-013 | 句読点自動挿入機能 | 文脈に基づく句読点の自動挿入 | 開発者 | レビュー待ち | 中 | - |
| T-014 | インテリジェント機能テスト | ユーザー辞書と話者識別の統合テスト | 開発者 | 完了 | 中 | - |

### フェーズ3: ユーティリティ機能（優先度: 低）
**目標**: 使いやすさを追求する便利機能を実装

#### 🔧 タスク一覧

| ID | タスク名 | 説明 | 担当者 | ステータス | 優先度 | 期限 |
|----|---------|------|--------|------------|--------|------|
| T-015 | 履歴管理機能 | 過去の文字起こし結果の保存と検索 | 開発者 | レビュー待ち | 低 | - |
| T-016 | プロファイル管理機能 | 用途別設定（会議用・メモ用等）の管理 | 開発者 | レビュー待ち | 低 | - |
| T-017 | エクスポート機能 | テキスト・字幕ファイルへのエクスポート | 開発者 | レビュー待ち | 低 | - |
| T-018 | アダプティブUI実装 | ウィンドウサイズと透明度の動的変更 | 開発者 | 未着手 | 低 | - |
| T-019 | キーワードハイライト機能 | 登録ワードの自動ハイライト表示 | 開発者 | 未着手 | 低 | - |
| T-020 | ユーティリティ機能テスト | 全ユーティリティ機能の統合テスト | 開発者 | 完了 | 低 | - |

### フェーズ4: 完成度向上（優先度: 低）
**目標**: パフォーマンス最適化とプロダクションレディな品質

#### 🔧 タスク一覧

| ID | タスク名 | 説明 | 担当者 | ステータス | 優先度 | 期限 |
|----|---------|------|--------|------------|--------|------|
| T-021 | パフォーマンス最適化 | CPU・メモリ使用量の最適化 | 開発者 | 未着手 | 低 | - |
| T-022 | メモリリーク対策 | 長時間使用時のメモリ管理改善 | 開発者 | 未着手 | 低 | - |
| T-023 | エラーハンドリング強化 | 各種エラー時の適切なユーザー通知 | 開発者 | 未着手 | 低 | - |
| T-024 | ログ機能実装 | 詳細な動作ログの記録と出力 | 開発者 | 未着手 | 低 | - |
| T-025 | 配布パッケージ作成 | PyInstallerによる実行ファイル化 | 開発者 | 未着手 | 低 | - |
| T-026 | 完成度向上テスト | 全機能の最終統合テスト | 開発者 | 未着手 | 低 | - |

## 📊 タスクステータス定義

| ステータス | 説明 |
|------------|------|
| 未着手 | まだ開始していないタスク |
| 進行中 | 現在開発中のタスク |
| レビュー待ち | 実装完了し、レビュー待ちのタスク |
| 完了 | テスト・レビューが完了し、マージ済みのタスク |
| 保留 | 一時的に中断しているタスク |
| キャンセル | 中止になったタスク |

## 🛠️ 開発環境

- **言語**: Python 3.12.8（仮想環境）
- **GUI**: PySide6 6.9.1
- **音声認識**: faster-whisper 1.2.0
- **音声I/O**: SoundDevice 0.5.2, SoundCard 0.4.4
- **システム統合**: pynput 1.8.1
- **データ管理**: SQLite3, PyYAML 6.0.2
- **テスト**: pytest 8.4.1

## 📈 進捗管理

### 現在の進捗状況
- **フェーズ1**: 8/8 タスク完了
- **フェーズ2**: 6/6 タスク完了
- **フェーズ3**: 4/6 タスク完了
- **フェーズ4**: 0/6 タスク完了

### 次に着手するタスク
1. **T-018**: アダプティブUI実装
2. **T-019**: キーワードハイライト機能

## 📝 開発ルール

1. **ブランチ戦略**: 
   - `feature/タスクID-機能名` の形式でブランチ作成
   - 実装完了後はプルリクエストを作成し、レビュー後にマージ

2. **コミットメッセージ**:
   - `feat: 機能追加`
   - `fix: バグ修正`
   - `refactor: リファクタリング`
   - `test: テスト追加`
   - `docs: ドキュメント更新`

3. **コード品質**:
   - Blackによるコードフォーマット
   - Flake8によるコードリント
   - MyPyによる型チェック
   - pytestによるテスト実行

4. **プルリクエスト**:
   - 最低1人のレビューが必要
   - CIテストがすべて通過していること
   - 関連するIssue番号を記載

## 🔧 開発コマンド

### 仮想環境操作
```
# 仮想環境アクティベート
venv\Scripts\activate

# 仮想環境非アクティベート
deactivate
```

### アプリケーション起動
```
# メインアプリケーション起動
python src/main.py
```

### テスト実行
```
# 全テスト実行
python -m pytest tests/

# 特定のテストファイル実行
python -m pytest tests/test_gui.py
```

### コード品質チェック
```
# Blackでフォーマット
black src/ tests/

# Flake8でリント
flake8 src/ tests/

# MyPyで型チェック
mypy src/
```

---

**最後の更新**: 2025年8月26日  
**プロジェクトリーダー**: 開発者  
**リポジトリ**: https://github.com/watayoshi1984/mojio.git